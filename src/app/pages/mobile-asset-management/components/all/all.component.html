




<nb-accordion>
    <nb-accordion-item *ngFor="let a of datas" #item>
      <nb-accordion-item-header>
        {{a.name}}
      </nb-accordion-item-header>
      <nb-accordion-item-body>
        <!-- {{a.children}} -->
        <nb-list>
            <nb-list-item *ngFor="let child of a.children;let index=index" >
              <button nbButton status="basic" fullWidth
              nbPopoverTrigger="click" 
              nbPopoverPlacement="bottom"
              [nbPopover]="component"
              [id] = 'child + "_" + index'
              class='button_basic'
              (click)="changeComponent(child, a, index)"
              >
              <nb-icon icon="pin"></nb-icon>
              {{ child }}
            </button>
            </nb-list-item>
          </nb-list>
      </nb-accordion-item-body>
    </nb-accordion-item>
  
    
  </nb-accordion>



  <!-- 弹出的模板 -->
<ng-template #tabs>
  <nb-card class="margin-bottom-0"  style="width: 200px; margin-bottom: 0px;">
      <nb-card-header>{{user_deviceInfo.it}}</nb-card-header>
      <nb-card-body>
          <div class="row">
            <!-- 编辑 -->
              <div class="col-md-6">
                  <div class="row map-info-icon"><nb-icon icon="edit-2-outline" style="width: 100%;"></nb-icon></div>
                  <div class="row"><button nbButton size="tiny" fullWidth status="control" (click)="edit(user_deviceInfo)">{{'POSITIONMONITORING.TABS.EDIT' | translate }}</button></div>
              </div>
              <!-- 轨迹 -->
              <!-- <div class="col-md-3">
                  <div class="row map-info-icon"><nb-icon icon="map-outline"></nb-icon></div>
                  <div class="row"><button nbButton size="tiny" fullWidth status="control" (click)="path(user_deviceInfo)">{{'POSITIONMONITORING.TABS.PATH' | translate }}</button></div>
              </div> -->
              <!-- 跟踪 -->
              <!-- <div class="col-md-3">
                  <div class="row map-info-icon"><nb-icon icon="pin-outline"></nb-icon></div>
                  <div class="row"><button nbButton size="tiny" fullWidth status="control" (click)="trace(user_deviceInfo)">{{'POSITIONMONITORING.TABS.TRACE' | translate }}</button></div>
              </div> -->
              <!-- 更多 -->
              <div class="col-md-6">
                  <div class="row map-info-icon"><nb-icon icon="more-horizontal-outline" style="width: 100%;"></nb-icon></div>
                  <div class="row">
                      <button nbButton size="tiny" fullWidth status="control" 
                      nbContextMenuPlacement="right" [nbContextMenu]="moreitems" nbContextMenuTrigger="hover" 
                      nbContextMenuTag="more-menu"

                      >{{'POSITIONMONITORING.TABS.MORE' | translate }}</button>
                  </div>

              </div>
          </div>
      </nb-card-body>

  </nb-card>
</ng-template>